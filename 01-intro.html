<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.34">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xingyu Zhong">
<meta name="dcterms.date" content="2025-09-17">

<title>Introduction to Formal Mathematics with Lean 4 – 2025 Fall Lean 4 Teach</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-c8ad9e5dbd60b7b70b38521ab19b7da4.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4c1bc5dac860e415a1acae00e77c53e6.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>
MathJax = {
  tex: {
    macros: {
        SunQuarTeX: String.raw`\phantom{}\kern-.0em\lower.0ex\hbox{$\mathbf S$}\kern-.045em\lower.0ex\hbox{$\scriptstyle \mathbf U$}\kern-.045em\hbox{$\scriptstyle \mathbb N$}\kern-.0em\hbox{$\mathbb Q$}\kern-.045em\lower.0ex\hbox{$\scriptstyle \mathbf U$}\kern-.135em\lower.0ex\hbox{$\scriptstyle \mathbf A$}\kern-.09em\lower.0ex\hbox{$\scriptstyle \mathbb R$}\kern-.072em\mathbf{\TeX}`
    }
  }
};
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-intro.html">Introduction to Formal Mathematics with Lean 4</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">2025 Fall Lean 4 Teach</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Introduction to Formal Mathematics with Lean 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-intro-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">01-intro.lean</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-logic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">02-logic.lean</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-logic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">03-logic.lean</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-logic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">04-logic.lean</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-formalization" id="toc-what-is-formalization" class="nav-link active" data-scroll-target="#what-is-formalization">What is formalization</a>
  <ul class="collapse">
  <li><a href="#natural-language-vs.-formal-language" id="toc-natural-language-vs.-formal-language" class="nav-link" data-scroll-target="#natural-language-vs.-formal-language">Natural language vs.&nbsp;formal language</a></li>
  <li><a href="#mathematical-proofs-vs.-computer-programs" id="toc-mathematical-proofs-vs.-computer-programs" class="nav-link" data-scroll-target="#mathematical-proofs-vs.-computer-programs">Mathematical proofs vs.&nbsp;Computer programs</a></li>
  <li><a href="#set-theory-vs.-type-theory" id="toc-set-theory-vs.-type-theory" class="nav-link" data-scroll-target="#set-theory-vs.-type-theory">Set theory vs.&nbsp;Type theory</a></li>
  <li><a href="#what-is-lean-4" id="toc-what-is-lean-4" class="nav-link" data-scroll-target="#what-is-lean-4">What is Lean 4</a></li>
  <li><a href="#leans-dependent-type-theory" id="toc-leans-dependent-type-theory" class="nav-link" data-scroll-target="#leans-dependent-type-theory">Lean’s dependent type theory</a></li>
  <li><a href="#an-example-lean-4-code" id="toc-an-example-lean-4-code" class="nav-link" data-scroll-target="#an-example-lean-4-code">An example Lean 4 code</a></li>
  </ul></li>
  <li><a href="#why-formalize" id="toc-why-formalize" class="nav-link" data-scroll-target="#why-formalize">Why formalize</a>
  <ul class="collapse">
  <li><a href="#the-rise-of-ai" id="toc-the-rise-of-ai" class="nav-link" data-scroll-target="#the-rise-of-ai">The rise of AI</a></li>
  <li><a href="#rigor-matters" id="toc-rigor-matters" class="nav-link" data-scroll-target="#rigor-matters">Rigor matters</a></li>
  <li><a href="#mathematical-engineering" id="toc-mathematical-engineering" class="nav-link" data-scroll-target="#mathematical-engineering">“Mathematical engineering”</a></li>
  <li><a href="#formalization-as-learning" id="toc-formalization-as-learning" class="nav-link" data-scroll-target="#formalization-as-learning">Formalization as learning</a></li>
  </ul></li>
  <li><a href="#why-now-formalize" id="toc-why-now-formalize" class="nav-link" data-scroll-target="#why-now-formalize">Why now formalize</a>
  <ul class="collapse">
  <li><a href="#formalization-becomes-more-accessible" id="toc-formalization-becomes-more-accessible" class="nav-link" data-scroll-target="#formalization-becomes-more-accessible">Formalization becomes more accessible</a></li>
  <li><a href="#mathlib-4-is-expanding-explosively" id="toc-mathlib-4-is-expanding-explosively" class="nav-link" data-scroll-target="#mathlib-4-is-expanding-explosively">Mathlib 4 is expanding explosively</a></li>
  </ul></li>
  <li><a href="#how-to-formalize" id="toc-how-to-formalize" class="nav-link" data-scroll-target="#how-to-formalize">How to formalize</a>
  <ul class="collapse">
  <li><a href="#the-goal" id="toc-the-goal" class="nav-link" data-scroll-target="#the-goal">The goal</a></li>
  <li><a href="#how-will-we-learn" id="toc-how-will-we-learn" class="nav-link" data-scroll-target="#how-will-we-learn">How will we learn</a></li>
  <li><a href="#what-we-wont-cover" id="toc-what-we-wont-cover" class="nav-link" data-scroll-target="#what-we-wont-cover">What we won’t cover</a></li>
  <li><a href="#disclaimer" id="toc-disclaimer" class="nav-link" data-scroll-target="#disclaimer">Disclaimer</a></li>
  <li><a href="#if-these-do-not-scare-you-away" id="toc-if-these-do-not-scare-you-away" class="nav-link" data-scroll-target="#if-these-do-not-scare-you-away">If these do not scare you away…</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="01-intro.pdf"><i class="bi bi-file-pdf"></i>Beamer</a></li></ul></div><div class="quarto-other-links"><h2>Other Links</h2><ul><li><a href="01-intro.lean"><i class="bi bi-link-45deg"></i>Lean 4 code</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Formal Mathematics with Lean 4</h1>
<p class="subtitle lead">For newcomers to formalization methods</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Xingyu Zhong </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Beijing Institute of Technology
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 17, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="what-is-formalization" class="level1 page-columns page-full">
<h1>What is formalization</h1>
<section id="natural-language-vs.-formal-language" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="natural-language-vs.-formal-language">Natural language vs.&nbsp;formal language</h3>
<ul>
<li><p>ambiguity in natural language</p>
<ul>
<li>implicit assumptions</li>
<li>skipping details: “It’s clear that we have…”</li>
<li>“viewed as” arguments: <span class="math inline">\(V^{**} = V\)</span>, <span class="math inline">\((A \times B) \times C = A \times (B \times C)\)</span> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>abuses of notation: <span class="math inline">\(3 \in \mathbb Z / 5 \mathbb Z\)</span>, <span class="math inline">\(\mathbb C \subseteq \mathbb C[x]\)</span></li>
</ul></li>
<li><p>precision in formal language</p>
<ul>
<li>computer programs are formal languages</li>
</ul></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Knowledgable audience may recognize them as examples of natural isomorphisms in category theory.</p></div></div></section>
<section id="mathematical-proofs-vs.-computer-programs" class="level3">
<h3 class="anchored" data-anchor-id="mathematical-proofs-vs.-computer-programs">Mathematical proofs vs.&nbsp;Computer programs<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></h3>
<table width="1,1" class="table">
<caption>Curry–Howard correspondence</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Logic</th>
<th style="text-align: center;">Programming</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">proposition</td>
<td style="text-align: center;">type</td>
</tr>
<tr class="even">
<td style="text-align: center;">proof</td>
<td style="text-align: center;">term</td>
</tr>
<tr class="odd">
<td style="text-align: center;">proposition is true</td>
<td style="text-align: center;">type has a term</td>
</tr>
<tr class="even">
<td style="text-align: center;">proposition is false</td>
<td style="text-align: center;">type doesn’t have a term</td>
</tr>
<tr class="odd">
<td style="text-align: center;">logical constant <code>TRUE</code></td>
<td style="text-align: center;">unit type</td>
</tr>
<tr class="even">
<td style="text-align: center;">logical constant <code>FALSE</code></td>
<td style="text-align: center;">empty type</td>
</tr>
<tr class="odd">
<td style="text-align: center;">implication <span class="math inline">\(\to\)</span></td>
<td style="text-align: center;">function type</td>
</tr>
<tr class="even">
<td style="text-align: center;">conjunction <span class="math inline">\(\land\)</span></td>
<td style="text-align: center;">product type <span class="math inline">\(\prod\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">disjunction <span class="math inline">\(\lor\)</span></td>
<td style="text-align: center;">sum type <span class="math inline">\(\sum\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;">universal quantification <span class="math inline">\(\forall\)</span></td>
<td style="text-align: center;">dependent product type <span class="math inline">\(\prod\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;">existential quantification <span class="math inline">\(\exists\)</span></td>
<td style="text-align: center;">dependent sum type <span class="math inline">\(\sum\)</span></td>
</tr>
</tbody>
</table>
</section>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;see also <a href="https://ncatlab.org/nlab/show/computational+trilogy">Computational Trilogy</a>, with category theory as the third vertex</p></div></div><section id="set-theory-vs.-type-theory" class="level3">
<h3 class="anchored" data-anchor-id="set-theory-vs.-type-theory">Set theory vs.&nbsp;Type theory</h3>
<ul>
<li><p>Mathematicians choose axiomatic set theory (with first-order logic) as the foundation of mathematics.</p>
<ul>
<li>naive set theory fits human’s intuition well</li>
</ul></li>
<li><p>Type theory is an alternative foundation that is equally expressive, but more suitable for computer formalization.</p></li>
</ul>
<table width="1,1" class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Set Theory</th>
<th style="text-align: center;">Type Theory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">everything is a set</td>
<td style="text-align: center;">everything has a type</td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(3 \in \mathbb R\)</span> is a proposition</td>
<td style="text-align: center;"><span class="math inline">\((3 : \mathbb R)\)</span> is a typing judgment</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\mathbb Q \subseteq \mathbb R\)</span> is an inclusion</td>
<td style="text-align: center;"><span class="math inline">\(\mathbb Q \to \mathbb R\)</span> is a type conversion</td>
</tr>
</tbody>
</table>
</section>
<section id="what-is-lean-4" class="level3">
<h3 class="anchored" data-anchor-id="what-is-lean-4">What is Lean 4</h3>
<ul>
<li>A modern functional programming language designed for theorem proving</li>
</ul>
<blockquote class="blockquote">
<p>“Lean is based on a version of dependent type theory known as the <em>Calculus of Constructions</em>, with a countable hierarchy of non-cumulative universes and inductive types.” — <a href="https://lean-lang.org/theorem_proving_in_lean4/Dependent-Type-Theory/">Theorem Proving in Lean 4</a></p>
</blockquote>
</section>
<section id="leans-dependent-type-theory" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="leans-dependent-type-theory">Lean’s dependent type theory</h3>
<ul>
<li><p>Dependent type theory is a powerful extension of type theory where</p>
<ul>
<li>types may depend on terms “given before” them</li>
<li>first-order logic can be implemented in dependent type theory</li>
</ul></li>
<li><p>functions, inductive types and quotient types<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> are the basic methods to construct new types.</p></li>
</ul>
<div class="no-row-height column-margin column-container"><div id="fn3"><p><sup>3</sup>&nbsp;Though seemingly <a href="https://www.ma.imperial.ac.uk/~buzzard/xena/formalising-mathematics-2024/Part_B/threekindsoftypes.html">redundant</a>, there are reasons for making quotient types as a fundamental constructing method. <a href="https://lean-lang.org/doc/reference/latest/The-Type-System/Quotients/#quotient-funext">funext</a> <a href="https://ncatlab.org/nlab/files/Li-QuotientTypes.pdf">thesis</a></p></div></div><table width="1,1" class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Set Theory</th>
<th style="text-align: center;">Lean’s dependent type theory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><p><span class="math inline">\(\forall x \in \mathbb R,\, x^2 \geq 0\)</span></p></td>
<td style="text-align: center;"><p>has type <span class="math inline">\((x : \mathbb R) \to (x^2 \geq 0)\)</span></p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><p><span class="math inline">\((n \in \mathbb N) \mapsto (1,0,\dots,0) \in \mathbb R^n\)</span></p></td>
<td style="text-align: center;"><p>has type <span class="math inline">\((n : \mathbb N) \to \mathbb R^n\)</span></p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\{ 0,1 \} = 2\)</span> is a set equality</td>
<td style="text-align: center;">make no sense</td>
</tr>
<tr class="even">
<td style="text-align: center;">cardinality is an equivalence class</td>
<td style="text-align: center;">is a quotient type</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Russell’s paradox</td>
<td style="text-align: center;"><a href="https://en.wikipedia.org/wiki/System_U#Girard's_paradox">Girard’s paradox</a></td>
</tr>
</tbody>
</table>
</section>
<section id="an-example-lean-4-code" class="level3">
<h3 class="anchored" data-anchor-id="an-example-lean-4-code">An example Lean 4 code</h3>
<ul>
<li>FLT</li>
<li>TendsTo</li>
</ul>
</section>
</section>
<section id="why-formalize" class="level1">
<h1>Why formalize</h1>
<section id="the-rise-of-ai" class="level3">
<h3 class="anchored" data-anchor-id="the-rise-of-ai">The rise of AI</h3>
<p>AI excels in Python. Why not Lean?</p>
<ul>
<li><p>Automated theorem proving</p>
<ul>
<li><p>especially those “abstract nonsense”</p></li>
<li><p>full-auto (create a proof without human interaction)</p></li>
<li><p>semi-auto (suggest tactics)</p>
<ul>
<li><code>exact?</code>, Github Copilot, …</li>
</ul></li>
</ul></li>
<li><p>Natural language to formal language</p>
<ul>
<li><p>automatically transplanting textbooks and papers into Lean</p></li>
<li><p>full-auto (translate without human interaction)</p></li>
<li><p>bolt-action (search for existing theorems)</p>
<ul>
<li><a href="https://leansearch.net/">LeanSearch</a>, <a href="https://www.leanexplore.com/">LeanExplore</a>, …</li>
</ul></li>
<li><p>Converse? Already happening!</p></li>
</ul></li>
<li><p>Proposing conjectures</p>
<ul>
<li>on which facts should we care about</li>
</ul></li>
</ul>
</section>
<section id="rigor-matters" class="level3">
<h3 class="anchored" data-anchor-id="rigor-matters">Rigor matters</h3>
<ul>
<li><p>It’s the foundation of mathematics</p></li>
<li><p>Imprecise natural language often leads to misunderstandings and glitches</p>
<ul>
<li>Especially when proofs get longer and longer</li>
</ul></li>
<li><p>formalization fully confirms the correctness of a theorem</p>
<ul>
<li><p>things that are too “technical” (boring) or simply impossible to verify by oneself</p>
<ul>
<li><p>e.g.&nbsp;classification of finite simple groups</p></li>
<li><p>e.g.&nbsp;“technical”</p></li>
</ul>
<blockquote class="blockquote">
<p>“I spent much of 2019 obsessed with the proof of this theorem, almost getting crazy over it. In the end, we were able to get an argument pinned down on paper, but I think nobody else has dared to look at the details of this, and so I still have some small lingering doubts.” — <a href="https://www.nature.com/articles/d41586-021-01627-2">Peter Scholze</a></p>
</blockquote></li>
</ul></li>
</ul>
</section>
<section id="mathematical-engineering" class="level3">
<h3 class="anchored" data-anchor-id="mathematical-engineering">“Mathematical engineering”</h3>
<ul>
<li><p>manipulating tons of theorems and proofs with mature software engineering techniques</p></li>
<li><p>referencing existing theorems as dependencies</p></li>
<li><p>collaborative work across the globe</p></li>
</ul>
<blockquote class="blockquote">
<p>The beauty of the system: you do not have to understand the whole proof of FLT in order to contribute. The blueprint breaks down the proof into many many small lemmas, and if you can formalise a proof of just one of those lemmas then I am eagerly awaiting your pull request. — <a href="https://leanprover-community.github.io/blog/posts/FLT-announcement/">Kevin Buzzard on the FLT Project</a></p>
</blockquote>
</section>
<section id="formalization-as-learning" class="level3">
<h3 class="anchored" data-anchor-id="formalization-as-learning">Formalization as learning</h3>
<ul>
<li><p>proofs with infinite detail</p>
<ul>
<li>intuitive textbooks, rigorous formalization</li>
</ul></li>
<li><p>makes us understand things better</p>
<ul>
<li><p>Global: How to build natural numbers from scratch?</p>
<ul>
<li><a href="https://adam.math.hhu.de/#/g/leanprover-community/nng4">natural number game</a></li>
<li><a href="https://github.com/riccardobrasca/Numbers">A journey to the world of numbers, by Riccardo Brasca</a></li>
</ul></li>
<li><p>Local: reducing the cognitive load</p>
<ul>
<li>(With good organization at the beginning) you can focus on small parts of the proof at a time</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="why-now-formalize" class="level1 page-columns page-full">
<h1>Why now formalize</h1>
<section id="formalization-becomes-more-accessible" class="level3">
<h3 class="anchored" data-anchor-id="formalization-becomes-more-accessible">Formalization becomes more accessible</h3>
<p>Mathematician-friendly languages, interfaces, tools and community emerges:</p>
<ul>
<li><p>Lean 4 with VSCode extension, modern interactive theorem prover made for mathematicians</p></li>
<li><p>formalization becomes more and more fashionable</p></li>
<li><p>big names works on formalization:</p>
<ul>
<li><a href="https://profiles.imperial.ac.uk/k.buzzard">Kevin Buzzard</a> works on formalizing FLT</li>
<li><a href="https://www.nature.com/articles/d41586-021-01627-2">Peter Scholze</a>’s work on condensed mathematics has been formalized</li>
<li><a href="https://terrytao.wordpress.com/">Terrence Tao</a> gave <a href="https://www.youtube.com/watch?v=e049IoFBnLA">a talk</a> on formalization in IMO 2024 and wrote a Lean 4 companion of his book “Analysis I” recently</li>
</ul></li>
<li><p>computer scientists and volunteering mathematicians run Lean 4 community collaboratively</p></li>
</ul>
</section>
<section id="mathlib-4-is-expanding-explosively" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="mathlib-4-is-expanding-explosively">Mathlib 4 is expanding explosively</h3>
<p>By the time of 2025/09/16, Mathlib 4 has<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<div class="no-row-height column-margin column-container"><div id="fn4"><p><sup>4</sup>&nbsp;Statistics fetched from <a href="https://leanprover-community.github.io/mathlib_stats.html">Mathlib statistics</a></p></div></div><table width="1,1,1,1" class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Lines of code</th>
<th style="text-align: center;">Definitions</th>
<th style="text-align: center;">Theorems</th>
<th style="text-align: center;">Contributors</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1950000</td>
<td style="text-align: center;">115438</td>
<td style="text-align: center;">232204</td>
<td style="text-align: center;">653</td>
</tr>
</tbody>
</table>
<ul>
<li>undergraduate may contribute: some low-hanging fruits</li>
</ul>
</section>
</section>
<section id="how-to-formalize" class="level1">
<h1>How to formalize</h1>
<section id="the-goal" class="level3">
<h3 class="anchored" data-anchor-id="the-goal">The goal</h3>
<p>The goal, at the end of this course, is</p>
<ul>
<li>to get used to think formally</li>
<li>to migrate from set theory to dependent type theory</li>
<li>to practice basic skills to translate statements and proofs into Lean 4</li>
<li>to know how to find existing theorems, how the community works</li>
<li>to acquire enough common senses to read the bibles (MiL, TPiL, Mathlib 4 Doc, etc.) by yourself for future formalization projects</li>
<li>(optimistically) to set up a Lean 4 formalization club at BIT!</li>
</ul>
</section>
<section id="how-will-we-learn" class="level3">
<h3 class="anchored" data-anchor-id="how-will-we-learn">How will we learn</h3>
<p>As mathematicians, we learn Lean 4 to formalizing mathematics. We learn by practice.</p>
<ul>
<li><p>Dozens of Lean files packed with well-organized examples and exercises suffice to get you started, suitable for both guided study and self study. Most lectures will be given in this style.</p></li>
<li><p>This style of teaching is inspired by <a href="https://github.com/ImperialCollegeLondon/formalising-mathematics-2024">Kevin Buzzard’s 2024 course on formalising mathematics in the Lean theorem prover</a> and <a href="https://leanprover-community.github.io/teaching/courses.html">many other courses</a>.</p></li>
</ul>
</section>
<section id="what-we-wont-cover" class="level3">
<h3 class="anchored" data-anchor-id="what-we-wont-cover">What we won’t cover</h3>
<p>Due to the limited time, my personal inability and the design of this course, we might not be able to cover:</p>
<ul>
<li><p>a deep discussion into dependent type theory or Lean as a programming language itself</p>
<ul>
<li>Read <a href="https://lean-lang.org/theorem_proving_in_lean4/">TPiL</a> for a Lean 4 tutorial that emphasizes on type theory.</li>
<li>Read <a href="https://lean-lang.org/functional_programming_in_lean/">FPiL</a> for a Lean 4 tutorial that focuses more on functional programming.</li>
<li>Refer to <a href="https://leanprover.github.io/lean4/doc/index.html">Lean Language Manual</a> for precise specifications.</li>
</ul></li>
<li><p>systematic exposition of how a particular branch of mathematics is formalized in Mathlib 4</p>
<ul>
<li>Read <a href="https://leanprover-community.github.io/mathematics_in_lean/">MiL</a> for this purpose.</li>
</ul></li>
<li><p>how to organize a massive formalization project from scratch, i.e.&nbsp;project management</p>
<ul>
<li>somewhat subtle, might can only be learned by reading Mathlib codes and practical experience</li>
</ul></li>
</ul>
</section>
<section id="disclaimer" class="level3">
<h3 class="anchored" data-anchor-id="disclaimer">Disclaimer</h3>
<ul>
<li><p>Formalization is tedious in its nature, Lean is no exception</p></li>
<li><p>Type conversions can be an extra burden (exclusive for type-theory-based systems)</p></li>
<li><p>Knowledge needs to be re-learned before being referenced</p></li>
<li><p>Different people may formalize the same thing in different ways</p></li>
</ul>
</section>
<section id="if-these-do-not-scare-you-away" class="level3">
<h3 class="anchored" data-anchor-id="if-these-do-not-scare-you-away">If these do not scare you away…</h3>
<p>Welcome aboard. Have fun formalizing mathematics!</p>
</section>
<section id="resources" class="level3">
<h3 class="anchored" data-anchor-id="resources">Resources</h3>
<ul>
<li><a href="https://github.com/sun123zxy/2025fall-lean4-teach">course repository</a></li>
<li><a href="https://sun123zxy.github.io/2025fall-lean4-teach/">online documentation</a></li>
</ul>


</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/sun123zxy\.github\.io\/2025fall-lean4-teach\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>